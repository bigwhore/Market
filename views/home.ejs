<link href="StyleSheet.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<!DOCTYPE html>
<html>
    <%- layout('layouts/partials/boilerplate') %>
   <head>
    <div id="cluster-map"></div>
    </head>
    <body>
    <div class="container">
        <h1>All Adventures</h1>
    
        <% for (let adventure of adventures) {%>
        <div class="card mb-3">
            <div class="row">
                <div class="col-md-4">
                    <%if(adventure.images.length) {%>
                    <img class="img-fluid" alt="" src="<%=adventure.images[0].url%>">
                    <% }else {%>
                    <img class="img-fluid" alt=""
                        src="">
                    <% } %>
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <h5 class="card-title"><%= adventure.title %> </h5>
                        <p class="card-text"><%= adventure.description %></p>
                        <p class="card-text">
                            <small class="text-muted"><%= adventure.location%></small>
                        </p>
                        <a class="btn btn-primary" href="/adventures/<%=adventure._id%>">View</a>
                    </div>
                </div>
            </div>
        </div>
        <% }%>
    </div>
    </body>
    <script>
        const mapToken = '<%-process.env.MAPBOX_TOKEN%>';
        const adventures = { features: '<%- JSON.stringify(adventures) %>'}
    </script>
    
    <script src="/javascripts/clusterMap.js"></script>